<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link href="gaiipaddon.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <title>회원가입</title>
        <!--<link href="mysurveystyle.css" rel="stylesheet">-->
    </head>
    <body>
        <!-- 서버로 보낼 주소/방식 -->
        <form action="/signup" method="post">
            <h2>회원가입</h2>
            <main>

                <!-- 아이디 -->
                <div class = "field">
                    <label for = "user_id">아이디</label><br>
                    <input id = "user_id" name = "user_id" type = "text" placeholder = "아이디"
                    autocomplete = "username" required>
                </div>

                <!-- 비밀번호 -->
                <div class = "field">
                    <label for = "user_pw1">비밀번호</label><br>
                    <input id = "user_pw1" name = "user_pw1" type = "password" placeholder = "비밀번호"
                    autocomplete = "12345678" minlength = "8" maxlength = "24" required>
                    <br><small>영문/숫자/특수문자 포함 8자 이상 권장</small>
                </div>

                <!--비밀번호 확인-->
                <div class = "field">
                    <label for = "user_pw2">비밀번호 확인</label><br>
                    <input id = "user_pw2" name = "user_pw2" type = "password" placeholder= "비밀번호 확인"
                    autocomplete= "12345678" minlength = "8" maxlength = "24" required>
                </div>

                <!-- 전화번호 -->
                <div class = "field">
                    <label for = "user_tel">전화번호</label><br>
                    <input id = "user_tel" name = "user_tel" type = "tel" placeholder = "휴대전화 번호"
                    inputmode = "tel" required>
                </div>
                <!-- e-mail -->
                <div class = "field">
                    <label for = "user_email">이메일</label><br>
                    <input id = "user_email" name = "user_email" type = "email" placeholder = "이메일"
                    autocomplete = "example@examplious.com" required>
                </div>

                <!-- 가입 버튼-->
                <div class = "action">
                    <button type = "submit" id = "btn-signup">가입하기</button>
                </div>
            </form>
            <script>
                
            </script>
        </main>
        <script>
        document.querySelector('form').addEventListener('submit', function(e){
            const userID = document.getElementById(`user_id`).value.trim();
            const pw1 = document.getElementById('user_pw1').value;
            const pw2 = document.getElementById('user_pw2').value;
            const tel = document.getElementById(`user_tel`).value.trim();
            const email = document.getElementById(`user_email`).value.trim();
            
            if (pw1 !== pw2){
                e.preventDefault();    //제출 x
                alert('비밀번호가 일치하지 않습니다.')
                document.getElementById(`user_pw2`).focus();
                return;
            }
            
            // 회원가입 정보
            const message = `회원가입이 완료됐습니다.\n\n` + `===============\n\n` +
                `아이디: ${userID}\n` + `비밀번호: ${'*'.repeat(pw1.length)}\n` + `전화번호: ${tel}\n` + `이메일: ${email}\n`
                +  `===============`;
            if (confirm(message + `\n\n확인을 누르면 폼이 제출됩니다.`)) {
                this.submit();
            }
        });
        </script>
    </body>
</html>